<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class ProductsSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $products = [];

        // Сердечные препараты (30)
        $heartProducts = [
            ["Конкор 2.5мг", "concor25.jpg", "MERCK", "Конкор предназначен для сердца", 1000, 1500],
            ["Конкор 5мг", "concor5.jpg", "MERCK", "50 таблеток Конкор предназначен для сердца", 1200, null],
            ["Кардиол 5мг", "cardiol5.jpg", "Bayer", "30 таблеток для поддержки сердца", 1100, null],
            ["Бисопролол 5 мг", "bisoprolol5.jpg", "Pfizer", "50 таблеток, снижает давление", 1150, 1300],
            ["Корвитол 5 мг", "corvitol5.jpg", "Novartis", "40 таблеток, улучшает работу сердца", 1200, null],
            ["Биол 5 мг", "biol5.jpg", "Sanofi", "60 таблеток, стабилизирует пульс", 1000, 1250],
            ["Кардиосан 5 мг", "cardiosan5.jpg", "AstraZeneca", "50 таблеток, профилактика аритмии", 1200, null],
            ["Бисокард 5 мг", "bisocard5.jpg", "Teva", "30 таблеток, снижает нагрузку на сердце", 900, 1100],
            ["Нормокард 5 мг", "normocard5.jpg", "Gedeon Richter", "50 таблеток, нормализует давление", 1020, 1200],
            ["Кардиомагнил 5 мг", "cardiomagnyl5.jpg", "Takeda", "28 таблеток, профилактика тромбозов", 1200, null],
            ["Бисопролол-Тева 5 мг", "bisoprolol-teva5.jpg", "Teva", "50 таблеток, аналог Конкора", 1150, 1400],
            ["Кардионорм 5 мг", "cardionorm5.jpg", "KRKA", "30 таблеток, поддерживает сердце", 950, null],
            ["Бипрол 5 мг", "biprol5.jpg", "Stada", "50 таблеток, снижает риск инфаркта", 1100, 1300],
            ["Аритмокор 5 мг", "aritmocor5.jpg", "Egis", "40 таблеток, от аритмии", 1250, 1500],
            ["Кардиовит 5 мг", "cardiovit5.jpg", "Berlin-Chemie", "50 таблеток, укрепляет сердце", 1200, null],
            ["Бисогамма 5 мг", "bisogamma5.jpg", "Wörwag Pharma", "30 таблеток, контроль давления", 1050, 1200],
            ["Корданум 5 мг", "cordanum5.jpg", "Servier", "50 таблеток, улучшает кровообращение", 1300, null],
            ["Атенолол 50 мг", "atenolol50.jpg", "Actavis", "30 таблеток, бета-блокатор", 800, 950],
            ["Метопролол 50 мг", "metoprolol50.jpg", "Sandoz", "60 таблеток, при гипертонии", 950, 1100],
            ["Небилет 5 мг", "nebelet5.jpg", "Berlin-Chemie", "28 таблеток, при сердечной недостаточности", 1400, 1600],
            ["Эгилок 25 мг", "egilok25.jpg", "Gedeon Richter", "60 таблеток, снижает давление", 850, 1000],
            ["Лозап 50 мг", "lozap50.jpg", "Zentiva", "30 таблеток, при гипертонии", 1100, 1300],
            ["Престариум 5 мг", "prestarium5.jpg", "Servier", "30 таблеток, ингибитор АПФ", 1200, 1400],
            ["Энап 5 мг", "enap5.jpg", "KRKA", "20 таблеток, при сердечной недостаточности", 750, 900],
            ["Нолипрел 5 мг", "noliprel5.jpg", "Servier", "30 таблеток, комбинированный препарат", 1500, 1800],
            ["Валсартан 80 мг", "valsartan80.jpg", "Novartis", "30 таблеток, блокатор рецепторов", 1000, 1200],
            ["Амлодипин 5 мг", "amlodipine5.jpg", "Pfizer", "30 таблеток, блокатор кальциевых каналов", 850, null],
            ["Норваск 5 мг", "norvasc5.jpg", "Pfizer", "30 таблеток, при стенокардии", 1300, 1500],
            ["Верошпирон 25 мг", "veroshpiron25.jpg", "Gedeon Richter", "20 таблеток, диуретик", 600, 750],
            ["Фуросемид 40 мг", "furosemide40.jpg", "Sanofi", "50 таблеток, мочегонное", 450, 600],
        ];

        // Обезболивающие (25)
        $painProducts = [
            ["Нурофен 200мг", "nurofen200.jpg", "Reckitt Benckiser", "12 таблеток, от боли и температуры", 150, 200],
            ["Ибупрофен 200мг", "ibuprofen200.jpg", "Bayer", "20 таблеток, обезболивающее", 120, null],
            ["Парацетамол 500мг", "paracetamol500.jpg", "Фармстандарт", "10 таблеток, жаропонижающее", 50, 70],
            ["Кетонал 100мг", "ketonal100.jpg", "Sandoz", "20 таблеток, сильное обезболивающее", 300, 350],
            ["Диклофенак 50мг", "diclofenac50.jpg", "Hemofarm", "30 таблеток, противовоспалительное", 180, 220],
            ["Миг 400мг", "mig400.jpg", "Berlin-Chemie", "10 таблеток, от мигрени", 250, 300],
            ["Найз 100мг", "naise100.jpg", "Dr. Reddy's", "20 таблеток, обезболивающее", 220, 250],
            ["Аспирин 500мг", "aspirin500.jpg", "Bayer", "10 таблеток, от боли и температуры", 100, 120],
            ["Спазмалгон", "spazmalgon.jpg", "Sopharma", "10 таблеток, от спазмов", 150, 180],
            ["Баралгин", "baralgin.jpg", "Sanofi", "10 таблеток, анальгетик", 200, 240],
            ["Темпалгин", "tempalgin.jpg", "Sopharma", "10 таблеток, комбинированный анальгетик", 180, 220],
            ["Пенталгин", "pentalgin.jpg", "Фармстандарт", "12 таблеток, от сильной боли", 220, 250],
            ["Цитрамон П", "citramon.jpg", "Фармстандарт", "10 таблеток, от головной боли", 60, 80],
            ["Анальгин 500мг", "analgin500.jpg", "Фармстандарт", "10 таблеток, анальгетик", 40, 50],
            ["Кетанов 10мг", "ketanov10.jpg", "Ranbaxy", "20 таблеток, сильное обезболивающее", 350, 400],
            ["Дексалгин 25мг", "dexalgin25.jpg", "Berlin-Chemie", "10 таблеток, послеоперационная боль", 450, 500],
            ["Мовалис 15мг", "movalis15.jpg", "Boehringer Ingelheim", "10 таблеток, противовоспалительное", 600, 700],
            ["Аркоксиа 60мг", "arcoxia60.jpg", "MSD", "7 таблеток, при остеоартрите", 800, 900],
            ["Нимесил", "nimesil.jpg", "Berlin-Chemie", "30 пакетиков, противовоспалительное", 1200, 1400],
            ["Фаниган", "fanigan.jpg", "Dr. Reddy's", "10 таблеток, комбинированный препарат", 180, 220],
            ["Налгезин 275мг", "nalgezin275.jpg", "KRKA", "10 таблеток, обезболивающее", 250, 300],
            ["Аэртал 100мг", "aertal100.jpg", "Gedeon Richter", "20 таблеток, при боли в суставах", 700, 800],
            ["Мелоксикам 15мг", "meloxicam15.jpg", "Teva", "20 таблеток, противовоспалительное", 350, 400],
            ["Амелотекс 15мг", "amelotex15.jpg", "Сотекс", "10 таблеток, при артрите", 400, 450],
            ["Брал", "bral.jpg", "Ipca", "10 таблеток, спазмолитик", 150, 180],
        ];

        // Антибиотики (25)
        $antibiotics = [
            ["Амоксициллин 500мг", "amoxicillin500.jpg", "Sandoz", "16 таблеток, антибиотик", 150, 180],
            ["Флемоксин Солютаб 500мг", "flemoxin500.jpg", "Astellas", "20 таблеток, антибиотик", 350, 400],
            ["Азитромицин 500мг", "azithromycin500.jpg", "Pfizer", "3 таблетки, антибиотик", 300, 350],
            ["Сумамед 500мг", "sumamed500.jpg", "Pliva", "3 таблетки, антибиотик", 600, 700],
            ["Цефтриаксон 1г", "ceftriaxone1g.jpg", "Sandoz", "Флакон, антибиотик", 50, 60],
            ["Ципрофлоксацин 500мг", "ciprofloxacin500.jpg", "Hexal", "10 таблеток, антибиотик", 120, 150],
            ["Аугментин 625мг", "augmentin625.jpg", "GSK", "14 таблеток, антибиотик", 500, 600],
            ["Клацид 500мг", "klacid500.jpg", "Abbott", "14 таблеток, антибиотик", 1000, 1200],
            ["Супракс 400мг", "suprax400.jpg", "Astellas", "6 капсул, антибиотик", 800, 900],
            ["Вильпрафен 500мг", "vilprafen500.jpg", "Astellas", "10 таблеток, антибиотик", 650, 750],
            ["Юнидокс Солютаб 100мг", "unidox100.jpg", "Astellas", "10 таблеток, антибиотик", 350, 400],
            ["Метронидазол 250мг", "metronidazole250.jpg", "Фармстандарт", "20 таблеток, противопротозойное", 80, 100],
            ["Цефотаксим 1г", "cefotaxime1g.jpg", "Sandoz", "Флакон, антибиотик", 60, 70],
            ["Левофлоксацин 500мг", "levofloxacin500.jpg", "Dr. Reddy's", "5 таблеток, антибиотик", 250, 300],
            ["Амоксиклав 625мг", "amoxiclav625.jpg", "Sandoz", "14 таблеток, антибиотик", 450, 500],
            ["Цефазолин 1г", "cefazolin1g.jpg", "Sintez", "Флакон, антибиотик", 40, 50],
            ["Кларитромицин 500мг", "clarithromycin500.jpg", "Teva", "10 таблеток, антибиотик", 350, 400],
            ["Доксициклин 100мг", "doxycycline100.jpg", "Фармстандарт", "10 капсул, антибиотик", 120, 150],
            ["Рулид 150мг", "rulid150.jpg", "Sanofi", "10 таблеток, антибиотик", 900, 1000],
            ["Фурадонин 50мг", "furadonin50.jpg", "Olainfarm", "30 таблеток, при инфекциях мочевых путей", 200, 250],
            ["Фурамаг 50мг", "furamag50.jpg", "Olainfarm", "30 капсул, антибактериальное", 350, 400],
            ["Монурал 3г", "monural3g.jpg", "Zambon", "1 пакетик, при цистите", 500, 600],
            ["Нолицин 400мг", "nolicin400.jpg", "KRKA", "10 таблеток, антибиотик", 250, 300],
            ["Цедекс 400мг", "cedex400.jpg", "Astellas", "5 капсул, антибиотик", 1200, 1400],
            ["Цефиксим 400мг", "cefixime400.jpg", "Hemofarm", "10 таблеток, антибиотик", 600, 700],
        ];

        // Витамины и БАДы (25)
        $vitamins = [
            ["Витрум", "vitrum.jpg", "Unipharm", "30 таблеток, мультивитамины", 800, 900],
            ["Компливит", "complivit.jpg", "Фармстандарт", "60 таблеток, мультивитамины", 250, 300],
            ["Супрадин", "supradin.jpg", "Bayer", "30 таблеток, мультивитамины", 600, 700],
            ["Алфавит Классик", "alfavit.jpg", "Аквион", "60 таблеток, витаминный комплекс", 350, 400],
            ["Центрум", "centrum.jpg", "Pfizer", "30 таблеток, мультивитамины", 700, 800],
            ["Солгар Омега-3", "solgar-omega3.jpg", "Solgar", "60 капсул, рыбий жир", 1200, 1400],
            ["Доппельгерц Актив Магний+Калий", "doppelherz-mg-k.jpg", "Queisser", "30 таблеток, для сердца", 400, 450],
            ["Элевит Пронаталь", "elevit.jpg", "Bayer", "30 таблеток, для беременных", 1200, 1400],
            ["Фемибион Наталкер I", "femibion1.jpg", "Merck", "30 таблеток, для беременных", 1500, 1700],
            ["Мульти-табс Классик", "multitabs.jpg", "Pfizer", "90 таблеток, мультивитамины", 600, 700],
            ["Берокка Плюс", "berocca.jpg", "Bayer", "30 таблеток, витамины группы B", 800, 900],
            ["Аевит", "aevit.jpg", "Фармстандарт", "20 капсул, витамины A и E", 50, 70],
            ["Аскорбиновая кислота", "ascorbic.jpg", "Фармстандарт", "50 драже, витамин C", 40, 50],
            ["Кальций Д3 Никомед", "calcium-d3.jpg", "Takeda", "60 таблеток, кальций + витамин D", 500, 600],
            ["Магне B6", "magne-b6.jpg", "Sanofi", "50 таблеток, магний", 600, 700],
            ["Йодомарин 200", "iodomarin200.jpg", "Berlin-Chemie", "100 таблеток, йод", 200, 250],
            ["Ферретаб", "ferretab.jpg", "Lannacher", "30 капсул, железо", 400, 450],
            ["Селцинк Плюс", "selzink.jpg", "Teva", "30 таблеток, антиоксиданты", 500, 600],
            ["Гинкго Билоба", "ginkgo.jpg", "Эвалар", "40 таблеток, для памяти", 300, 350],
            ["Коэнзим Q10", "coenzyme.jpg", "Solgar", "30 капсул, для сердца", 900, 1000],
            ["Омега-3", "omega3.jpg", "Now Foods", "100 капсул, рыбий жир", 800, 900],
            ["Хондроитин с глюкозамином", "chondroitin.jpg", "Эвалар", "60 таблеток, для суставов", 700, 800],
            ["Иммунал", "immunal.jpg", "Sandoz", "20 таблеток, эхинацея", 400, 450],
            ["Лактофильтрум", "lactofiltrum.jpg", "Авва Рус", "30 таблеток, энтеросорбент", 350, 400],
            ["Линекс", "linex.jpg", "Sandoz", "16 капсул, пробиотик", 500, 600],
        ];

        // Желудочно-кишечные (25)
        $stomachProducts = [
            ["Омез 20мг", "omez20.jpg", "Dr. Reddy's", "30 капсул, от изжоги", 250, 300],
            ["Нексиум 20мг", "nexium20.jpg", "AstraZeneca", "14 таблеток, ингибитор протонной помпы", 600, 700],
            ["Де-Нол 120мг", "de-nol120.jpg", "Astellas", "56 таблеток, при гастрите", 800, 900],
            ["Фосфалюгель", "phosphalugel.jpg", "Astellas", "20 пакетиков, антацид", 350, 400],
            ["Гастал", "gastal.jpg", "Teva", "12 таблеток, от изжоги", 120, 150],
            ["Ренни", "renni.jpg", "Bayer", "12 таблеток, от изжоги", 150, 180],
            ["Маалокс", "maalox.jpg", "Sanofi", "20 таблеток, антацид", 200, 250],
            ["Эспумизан", "espumisan.jpg", "Berlin-Chemie", "25 капсул, от вздутия", 300, 350],
            ["Мотилиум", "motilium.jpg", "Janssen", "30 таблеток, от тошноты", 450, 500],
            ["Мезим Форте", "mezim.jpg", "Berlin-Chemie", "20 таблеток, ферменты", 100, 120],
            ["Креон 10000", "creon10000.jpg", "Abbott", "20 капсул, ферменты", 300, 350],
            ["Фестал", "festal.jpg", "Sanofi", "20 драже, ферменты", 120, 150],
            ["Панкреатин", "pancreatin.jpg", "Фармстандарт", "60 таблеток, ферменты", 50, 60],
            ["Лоперамид", "loperamide.jpg", "Фармстандарт", "20 таблеток, от диареи", 40, 50],
            ["Имодиум", "imodium.jpg", "Johnson & Johnson", "10 капсул, от диареи", 250, 300],
            ["Смекта", "smecta.jpg", "Ipsen", "10 пакетиков, от диареи", 150, 180],
            ["Энтерофурил", "enterofuryl.jpg", "Bosnalijek", "16 капсул, при кишечных инфекциях", 350, 400],
            ["Регидрон", "rehydron.jpg", "Orion", "10 пакетиков, при обезвоживании", 200, 250],
            ["Дюфалак", "duphalac.jpg", "Abbott", "200 мл, слабительное", 350, 400],
            ["Форлакс", "forlax.jpg", "Ipsen", "10 пакетиков, слабительное", 250, 300],
            ["Гутталакс", "guttalax.jpg", "Boehringer Ingelheim", "20 капель, слабительное", 300, 350],
            ["Бифиформ", "bifiform.jpg", "Pfizer", "30 капсул, пробиотик", 500, 600],
            ["Хилак Форте", "hilak.jpg", "Merck", "30 мл, пробиотик", 250, 300],
            ["Энтерол", "enterol.jpg", "Biocodex", "10 капсул, пробиотик", 300, 350],
            ["Полисорб", "polysorb.jpg", "Полисорб", "10 пакетиков, энтеросорбент", 350, 400],
        ];

        // Противовирусные и иммуномодуляторы (20)
        $antiviral = [
            ["Арбидол", "arbidol.jpg", "Фармстандарт", "10 таблеток, противовирусное", 400, 500],
            ["Кагоцел", "kagocel.jpg", "Ниармедик", "10 таблеток, противовирусное", 350, 400],
            ["Ингавирин 90мг", "ingavirin90.jpg", "Валента", "7 капсул, противовирусное", 500, 600],
            ["Эргоферон", "ergoferon.jpg", "Материа Медика", "20 таблеток, противовирусное", 350, 400],
            ["Анаферон", "anaferon.jpg", "Материа Медика", "20 таблеток, иммуномодулятор", 250, 300],
            ["Оциллококцинум", "ocillococcinum.jpg", "Boiron", "6 доз, гомеопатическое", 350, 400],
            ["Циклоферон", "cycloferon.jpg", "Полисан", "20 таблеток, иммуномодулятор", 300, 350],
            ["Виферон 500000 МЕ", "viferon500.jpg", "Ферон", "10 свечей, иммуномодулятор", 500, 600],
            ["Гриппферон", "grippferon.jpg", "Фирн М", "10 мл, капли в нос", 300, 350],
            ["Амиксин", "amixin.jpg", "Фармстандарт", "6 таблеток, иммуномодулятор", 600, 700],
            ["Лавомакс", "lavomax.jpg", "Ниармедик", "6 таблеток, иммуномодулятор", 500, 600],
            ["Цитовир-3", "cytovir.jpg", "Цитомед", "12 капсул, иммуномодулятор", 500, 600],
            ["Реленза", "relenza.jpg", "GSK", "5 ротадисков, против гриппа", 1200, 1400],
            ["Тамифлю", "tamiflu.jpg", "Roche", "10 капсул, против гриппа", 1200, 1400],
            ["Изопринозин", "isoprinosine.jpg", "Teva", "20 таблеток, иммуномодулятор", 700, 800],
            ["Галавит", "galavit.jpg", "Сэлвим", "10 таблеток, иммуномодулятор", 500, 600],
            ["Полиоксидоний", "polyoxidonium.jpg", "Ниармедик", "10 таблеток, иммуномодулятор", 800, 900],
            ["Орвирем", "orvirem.jpg", "Олфен", "100 мл, сироп для детей", 300, 350],
            ["Афлубин", "aflubin.jpg", "Bittner", "20 мл, капли гомеопатические", 500, 600],
            ["Интерферон", "interferon.jpg", "Фармстандарт", "10 ампул, иммуномодулятор", 100, 120],
        ];

        // Собираем все товары в один массив
        $allProducts = array_merge(
            $this->prepareProducts($heartProducts, "Сердечные", 1),
            $this->prepareProducts($painProducts, "Обезболивающие", 31),
            $this->prepareProducts($antibiotics, "Антибиотики", 56),
            $this->prepareProducts($vitamins, "Витамины", 81),
            $this->prepareProducts($stomachProducts, "Желудочно-кишечные", 106),
            $this->prepareProducts($antiviral, "Противовирусные", 131)
        );

        DB::table('products')->insert($allProducts);
    }

    /**
     * Подготавливает массив продуктов для вставки в БД
     */
    private function prepareProducts(array $products, string $category, int $startId): array
    {
        $result = [];
        $id = $startId;
        
        foreach ($products as $product) {
            $result[] = [
                "articul" => $this->generateArticul($id),
                "title" => $product[0],
                "category" => $category,
                "image" => $product[1],
                "manufactured" => $product[2],
                "description" => $product[3],
                "newprice" => $product[4],
                "isfavorite" => rand(0, 1) == 1, // Случайное значение для избранного
                "oldprice" => $product[5] ?? null
            ];
            $id++;
        }
        
        return $result;
    }

    /**
     * Генерирует артикул в формате 000001, 000002 и т.д.
     */
    private function generateArticul(int $number): string
    {
        return str_pad($number, 6, '0', STR_PAD_LEFT);
    }
}